#:import Toolbar kivymd.toolbar.Toolbar
#:import ThemeManager kivymd.theming.ThemeManager
#:import MDNavigationDrawer kivymd.navigationdrawer.MDNavigationDrawer
#:import NavigationLayout kivymd.navigationdrawer.NavigationLayout
#:import NavigationDrawerToolbar kivymd.navigationdrawer.NavigationDrawerToolbar
#:import MDDropdownMenu kivymd.menu.MDDropdownMenu


# -- Classes for DropDownMenu items starts. --
<Login@MDMenuItem>:
    on_release: app.root.ids.scr_mngr.current = 'login'

<Settings_@MDMenuItem>:
    on_release: app.root.ids.scr_mngr.current = 'settings'
# -- Classes for DropDownMenu items ends. --


NavigationLayout:
    id: nav_layout

    MDNavigationDrawer:
        id: nav_drawer

        NavigationDrawerToolbar:
            title: 'Меню'

        NavigationDrawerIconButton:
            icon: 'home'
            text: "Последние"
            on_release: app.root.ids.scr_mngr.current = 'last'

        NavigationDrawerIconButton:
            icon: 'shuffle-variant'
            text: "Мне повезет"
            on_release: app.root.ids.scr_mngr.current = 'lucky'

        NavigationDrawerIconButton:
            icon: 'calendar-blank'
            text: "По годам"
            on_release: app.root.ids.scr_mngr.current = 'by_years'

    BoxLayout:
        orientation: 'vertical'

        Toolbar:
            id: toolbar
            title: 'Here will be current page name.'
            background_palette: 'Grey'
            background_hue: '900'
            left_action_items: [['menu', lambda x: app.root.toggle_nav_drawer()]]
            right_action_items:
                [['cached', lambda x: None],
                ['magnify', lambda x: None],
                ['apps', lambda x: None],
                ['dots-vertical', lambda x: MDDropdownMenu(items=app.menu_items, width_mult=2).open(self)]]

        ScreenManager:
            id: scr_mngr

            Screen:
                name: 'last'

                MDLabel:
                    text: 'Last data.'

            Screen:
                name: 'lucky'

                MDLabel:
                    text: 'Lucky data.'

            Screen:
                name: 'by_years'

                MDLabel:
                    text: 'By years.'

            Screen:
                name: 'login'

                MDLabel:
                    text: 'Login Page.'

            Screen:
                name: 'settings'

                MDLabel:
                    text: 'Settings Page.'
