#:import Toolbar kivymd.toolbar.Toolbar
#:import ThemeManager kivymd.theming.ThemeManager
#:import MDNavigationDrawer kivymd.navigationdrawer.MDNavigationDrawer
#:import NavigationLayout kivymd.navigationdrawer.NavigationLayout
#:import NavigationDrawerToolbar kivymd.navigationdrawer.NavigationDrawerToolbar


NavigationLayout:
    id: nav_layout

    MDNavigationDrawer:
        id: nav_drawer

        NavigationDrawerToolbar:
            title: 'Меню'

        NavigationDrawerSubheader:
            text: "Основное"
        NavigationDrawerIconButton:
            icon: 'account'
            text: "Войти"
            on_release: app.root.ids.scr_mngr.current = 'login'
        NavigationDrawerIconButton:
            icon: 'quadcopter'
            text: "Агрегаторы"
            on_release: app.root.ids.scr_mngr.current = 'aggregators'

        NavigationDrawerDivider:
        NavigationDrawerSubheader:
            text: "Разделы"

        NavigationDrawerIconButton:
            icon: 'currency-btc'
            text: "Криптотека"
            on_release: app.root.ids.scr_mngr.current = 'cryptoteka'

        NavigationDrawerIconButton:
            icon: 'history'
            text: "История просмотров"
            on_release: app.root.ids.scr_mngr.current = 'view_history'

        NavigationDrawerIconButton:
            icon: 'calendar-range'
            text: "Календарь ICO"
            on_release: app.root.ids.scr_mngr.current = 'calendar_ico'

        NavigationDrawerDivider:
        NavigationDrawerIconButton:
            icon: 'home'
            text: "Последние"
            on_release: app.root.ids.scr_mngr.current = 'last'

        NavigationDrawerIconButton:
            icon: 'shuffle-variant'
            text: "Мне повезет"
            on_release: app.root.ids.scr_mngr.current = 'lucky'

        NavigationDrawerIconButton:
            icon: 'calendar-blank'
            text: "По годам"
            on_release: app.root.ids.scr_mngr.current = 'by_years'
        NavigationDrawerDivider:
        NavigationDrawerIconButton:
            icon: 'settings'
            text: 'Настройки'
            on_release: app.root.ids.scr_mngr.current = 'settings'

    BoxLayout:
        orientation: 'vertical'

        Toolbar:
            id: toolbar
            title: 'Here will be current page name.'
            background_palette: 'Grey'
            background_hue: '900'
            left_action_items: [['menu', lambda x: app.root.toggle_nav_drawer()]]
            right_action_items:
                [['magnify', lambda x: None],
                ['cached', lambda x: None]]

        ScreenManager:
            id: scr_mngr

            Screen:
                name: 'last'

                MDLabel:
                    text: 'Last data.'

            Screen:
                name: 'lucky'

                MDLabel:
                    text: 'Lucky data.'

            Screen:
                name: 'by_years'

                MDLabel:
                    text: 'By years.'

            LoginScreen:
                name: 'login'

                MDLabel:
                    text: 'Login Page.'

            Screen:
                name: 'aggregators'

                MDLabel:
                    text: 'Aggregators page.'

            Screen:
                name: 'cryptoteka'

                MDLabel:
                    text: 'cryptoteka Page.'

            Screen:
                name: 'view_history'

                MDLabel:
                    text: 'view_history Page.'

            Screen:
                name: 'calendar_ico'

                MDLabel:
                    text: 'calendar_ico Page.'

            Screen:
                name: 'settings'

                MDLabel:
                    text: 'Settings Page.'
